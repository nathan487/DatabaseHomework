# 志愿者活动管理系统 - 需求清单

## 1. 用户注册
用户可以使用用户名和密码注册账户，注册时可选择身份为"普通用户"或"管理员"。系统需检查用户名唯一性，密码使用MD5加密存储。注册成功后用户可使用该账户登录系统。

## 2. 管理员新增活动
管理员可创建新活动。需填写活动标题、举办时间、地点、最大参加人数。系统需验证时间不早于当前时间，人数大于0。创建后活动状态为"活跃"，普通用户可以看到并申请。

## 3. 管理员修改活动
管理员可修改已创建的活动信息，包括标题、时间、地点、人数等。修改后的活动立即生效。

## 4. 管理员删除活动
管理员可删除活动。删除后用户看不到此活动，已有的申请记录保留（用于历史查询）。

## 5. 普通用户浏览活动
用户登录后可看到所有活跃的活动列表（已过期或被关闭的活动不显示）。列表显示活动标题、时间、地点、人数限制。用户可按部门或分类筛选活动。

## 6. 普通用户申请活动
用户点击活动的"申请"按钮即可申请参加。系统需检查：用户是否已申请过（不允许重复申请）、活动是否还有名额（已批准人数 < 最大人数）、活动是否还未过期。申请创建后状态为"待审核"，等待管理员审核。

## 7. 管理员查看活动申请人
管理员选择某个活动后可看到所有申请此活动的用户列表，包括申请人用户名、申请时间、当前审核状态（待审核/已批准/已拒绝）。

## 8. 管理员审核申请
管理员对申请人提交的申请进行审核，可选择"批准"或"拒绝"。批准时需检查活动是否还有名额。每次审核操作都会记录审核者ID、审核时间和审核结果。

## 9. 普通用户查看个人申请状态
用户进入"我的申请"可看到自己提交的所有申请及其审核状态。列表显示活动标题、活动时间、申请时间、审核结果（待审核/已批准/已拒绝）。按申请时间从新到旧排列。

## 10. 自动关闭过期活动
系统每分钟自动检查一次所有活动。当活动的举办时间已经过期（activity_time < 当前时间）时，系统自动将活动状态改为"已过期"。过期的活动用户无法再申请，但管理员仍可查看。此功能需在系统启动时启动定时任务。

---

## 需要的数据库表字段调整

**Activity表需新增一个字段：**
- status: 活动状态（active=活跃, expired=已过期, closed=已关闭）
- 默认值为 'active'

这样能区分活动是还在进行中可以申请，还是已经过期关闭了。
